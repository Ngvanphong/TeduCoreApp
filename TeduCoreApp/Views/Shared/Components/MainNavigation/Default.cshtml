@using TeduCoreApp.Data.ViewModels.Product
@model List<ProductCategoryViewModel>
<nav>
    <div class="container">
        <div class="nav-inner">
            <div class="mm-toggle-wrap hidden-sm hidden-md hidden-lg">
                <div class="mm-toggle"><i class="fa fa-align-justify"></i><span class="mm-label">Danh mục</span> </div>
            </div>
            <!-- BEGIN NAV -->
            <ul id="nav" class="hidden-xs">
                <li class="drop-menu">
                    <a href="index.html" class="level-top active"><span>Home</span></a>
                    <ul>
                        <li><a href="../index.html"><span>Home Version 1</span></a></li>
                        <li><a href="index.html"><span>Home Version 2</span></a></li>
                        <li><a href="../version3/index.html"><span>Home Version 3</span></a></li>
                        <li><a href="../version4/index.html"><span>Home Version 4</span></a></li>
                        <li><a href="../version3/index.html"><span>Home Version 3</span></a></li>
                        <li><a href="../version4/index.html"><span>Home Version 4</span></a></li>
                    </ul>
                </li>
                <li class="drop-menu">
                    <a href="#"> <span>Sản phẩm</span> </a>
                    <ul>
                        @{
                            var parent = Model.Where(x => x.ParentId == null);
                            foreach (var item in parent)
                            {
                                if (Model.Except(parent).Where(x => x.ParentId == item.Id).Count() == 0)
                                {
                                    var url = "/" + item.SeoAlias + ".pc-" + item.Id + ".html";
                                    <li> <a href="@url"> <span>@item.Name</span> </a> </li>
                                }
                                else
                                {
                                    var child = Model.Except(parent).Where(x => x.ParentId == item.Id);
                                    <li class="sub-cat">
                                        <a href="#"> <span>@item.Name</span> </a>
                                        @foreach (var subItem in child)
                                        {
                                            var subUrl = "/" + item.SeoAlias + ".pc-" + subItem.Id + ".html";
                                            <ul><li> <a href="@subUrl"> <span>@subItem.Name</span> </a> </li></ul>
                                        }
                                    </li>
                                }
                            }
                        }
                    </ul>
                </li>

                @{
                    var parentDisplays = Model.Where(x => x.ParentId == null && x.HomeFlag == true).OrderBy(x => x.HomeOrder).Take(4);
                    foreach (var parentDisplay in parentDisplays)
                    {
                        if (Model.Except(parentDisplays).Where(x => x.ParentId == parentDisplay.Id).Count() == 0)
                        {
                            <li class="drop-menu">
                                @{
                                    var url = "/" + parentDisplay.SeoAlias + ".pc-" + parentDisplay.Id + ".html";
                                }
                                <a href="@url"> <span>@parentDisplay.Name</span> </a>
                            </li>

                        }
                        else
                        {
                            <li class="drop-menu">
                                @{
                                    var childDisplays = Model.Except(parentDisplays).Where(x => x.ParentId == parentDisplay.Id);
                                }
                                <a href="#"> <span>@parentDisplay.Name</span> </a>
                                <ul>

                                    @foreach (var subDisplay in childDisplays)
                                    {
                                        var subDisplayUrl = "/" + subDisplay.SeoAlias + ".pc-" + subDisplay.Id + ".html";
                                        <li> <a href="@subDisplayUrl"> <span>@subDisplay.Name</span> </a> </li>
                                    }
                                </ul>
                            </li>

                        }
                    }
                }

                <li class="mega-menu"> <a class="level-top" href="blog.html"><span>Blog</span></a> </li>
                <li class="nav-custom-link mega-menu">
                    <a href="#" class="level-top"> <span>Buy this theme</span> </a>
                    <div class="jtv-menu-block-wrapper custom-menu">
                        <div class="header-nav-dropdown-wrapper">
                            <div class="jtv-custom-box">
                                <i class="fa fa-laptop"></i>
                                <h4 class="heading">100% Responsive Design</h4>
                                <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.</p>
                            </div>
                            <div class="jtv-custom-box">
                                <i class="fa fa-book"></i>
                                <h4 class="heading">Easy Document</h4>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dignissim erat ut laoreet pharetra.</p>
                            </div>
                            <div class="jtv-custom-box">
                                <i class="fa fa-fort-awesome"></i>
                                <h4 class="heading">Awesome Icon Fonts</h4>
                                <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                            </div>
                            <div class="jtv-custom-box">
                                <i class="fa fa-home"></i>
                                <h4 class="heading">4 Layout Home Pages</h4>
                                <p>Duis aute irure dolor in reprehenderit in voluptate velit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>